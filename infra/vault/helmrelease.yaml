# ---
# apiVersion: helm.toolkit.fluxcd.io/v2beta1
# kind: HelmRelease
# metadata:
#   name: vault
#   namespace: vault
# spec:
#   interval: 1h
#   chart:
#     spec:
#       chart: vault
#       version: 0.16.1
#       sourceRef:
#         kind: HelmRepository
#         name: hashicorp
#         namespace: flux-system
#       interval: 1h
#   values:
#     vault:
#       server:
#         image:
#           repository: "vault"
#           tag: "1.8.4"
#           pullPolicy: IfNotPresent
#         ingress:
#           enabled: false
#           #annotations:
#           #  traefik.ingress.kubernetes.io/router.entrypoints: websecure
#           #  traefik.ingress.kubernetes.io/router.priority: "10"
#           #  cert-manager.io/cluster-issuer: le-production
#           hosts:
#             - host: vault.k8s.techtales.io
#               paths:
#                 - /
#           tls:
#             - hosts:
#                 - vault.k8s.techtales.io
#               secretName: k8s.techtales.io
#       dataStorage:
#         storageClass: local-path
#       ui:
#         enabled: true
#       csi:
#         enabled: true
#       injector:
#         enabled: false
